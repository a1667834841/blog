---
title: 2022-01-16_note
date: 2022-11-13 23:10:11
permalink: /pages/6b0091/
categories:
  - 每日随笔
  - 2022-01
tags:
  - 
---
**mood:** :smile:  									**date: 2022-01-16**  
## 今日计划  
------
- [ ]  
## 明日计划  
------
- [ ]  
## 随写 
------

```
https://ggball:bc65cc90c76baba247e753c95ef5721200e97b59@gitea.dongshanxia.top:35000/ggball/onemanager-java.git

gitactions 工作路径
/home/runner/work/Onemanager-java/Onemanager-java/src/main/resources/webapp

Linux中ssh配置详解
https://blog.csdn.net/xiaoxianer321/article/details/109625658

github Actions 完成Spring boot编译部署任务
https://blog.csdn.net/qq_29562611/article/details/103792529

actions市场
https://github.com/marketplace
```



```json
def remoteConfig = [:]
remoteConfig.name = "my-remote-server"
remoteConfig.host = "${REMOTE_HOST}"
remoteConfig.allowAnyHosts = true

node {
  // 使用当前项目下的凭据管理中的 SSH 私钥 凭据
  withCredentials([sshUserPrivateKey(
    credentialsId: "${REMOTE_CRED}",
    keyFileVariable: "privateKeyFilePath"
  )]) {

    // SSH 登陆用户名
    remoteConfig.user = "${REMOTE_USER_NAME}"
    // SSH 私钥文件地址
    remoteConfig.identityFile = privateKeyFilePath

    stage("通过 SSH 执行命令") {
      // 本地创建一个 test.sh 脚本，用来发送到远端执行
      writeFile(file: 'test.sh', text: 'ls')
      sshCommand(remote: remoteConfig, command: 'for i in {1..5}; do echo -n \"Loop \$i \"; date ; sleep 1; done')
      sshScript(remote: remoteConfig, script: 'test.sh')
      sshPut(remote: remoteConfig, from: 'test.sh', into: '.')
      sshGet(remote: remoteConfig, from: 'test.sh', into: 'test_new.sh', override: true)
      sshRemove(remote: remoteConfig, path: 'test.sh')
    }
  }
}
```

