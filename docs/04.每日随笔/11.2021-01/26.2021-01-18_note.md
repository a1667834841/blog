---
title: 2021-01-18_note
date: 2022-11-13 23:10:10
permalink: /pages/2a62fb/
categories:
  - 每日随笔
  - 2021-01
tags:
  - 
---
**mood:** :smile:  																		**date: 2021-01-18**  
## 今日计划  
------
- [ ]  springboot 三种系统初始化流程整理
## 明日计划  
------
- [ ]  
## 随写 
------

### springFactoriesLoader

 一：框架内部使用的通用工厂加载机制

 二：从 classpath下多个jar包特定的位置读取文件并初始化类

 三：文件内容必须是kv形式，即 properties类型

 四：key是全限定名（抽象类接口）、 value是实现，多个实现用，分隔

![image-20210118085249213](D:\project\vscode\gitlab\blog\myBlog\docs\每日随笔\2021-01-18_note.assets\image-20210118085249213.png)

1. 获取环境变量（默认 从META-INF/spring.factories 取）
2. 获取 factory.propeties 中的环境变量
3. 利用 createSpringFactoriesInstances 实例化 对象
4. AnnotationAwareOrderComparator 将带有@Order 注解的对象排序，value值越小 越靠前

![image-20210118085908610](D:\project\vscode\gitlab\blog\myBlog\docs\每日随笔\2021-01-18_note.assets\image-20210118085908610.png)

![image-20210118091414988](D:\project\vscode\gitlab\blog\myBlog\docs\每日随笔\2021-01-18_note.assets\image-20210118091414988.png)

![image-20210118091445710](D:\project\vscode\gitlab\blog\myBlog\docs\每日随笔\2021-01-18_note.assets\image-20210118091445710.png)

![image-20210118213442644](D:\project\vscode\gitlab\blog\myBlog\docs\每日随笔\2021-01-18_note.assets\image-20210118213442644.png)

![image-20210118213529749](D:\project\vscode\gitlab\blog\myBlog\docs\每日随笔\2021-01-18_note.assets\image-20210118213529749.png)