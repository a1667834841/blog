---
title: 2021-12-14_note
date: 2022-11-13 23:10:11
permalink: /pages/8e62b1/
categories:
  - 每日随笔
  - 2021-12
tags:
  - 
---
**mood:** :smile:  									**date: 2021-12-14**  
## 今日计划  
------
- [ ]  推逆向单nc
- [x]  推企业单
- [x]  完成物流部分发货
- [x]  完成补寄单 物流回传
## 明日计划

------
- [ ]  
## 随写

------

解除正在死锁的状态有两种方法：

第一种：

1.查询是否锁表

```
show OPEN TABLES where In_use > 0;
```

2.查询进程（如果您有SUPER权限，您可以看到所有线程。否则，您只能看到您自己的线程）

```
show processlist
```

3.杀死进程id（就是上面命令的id列）

```
kill id
```



第二种：

1.查看下在锁的事务

```
SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;
```

2.杀死进程id（就是上面命令的trx_mysql_thread_id列）

```
kill 线程ID
```

例子：

查出死锁进程：SHOW PROCESSLIST
杀掉进程     KILL 420821;

其它关于查看死锁的命令：

1：查看当前的事务
SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;

2：查看当前锁定的事务

SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS;

3：查看当前等锁的事务
SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;

| YGSH2021011045056200932987 |
| -------------------------- |
| YGSH2021011145056090724257 |
| YGSH2021011145056104056461 |
| YGSH2021011145056104119963 |
| YGSH2021011145056104229871 |
| YGSH2021011145056111328522 |
| YGSH2021011145056111402715 |