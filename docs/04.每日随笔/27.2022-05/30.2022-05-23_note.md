---
title: 2022-05-23_note
date: 2022-11-13 23:10:11
permalink: /pages/f901d9/
categories:
  - 每日随笔
  - 2022-05
tags:
  - 
---
**mood:** :smile:  									**date: 2022-05-23**  
## 今日计划  
------
- [x]  多线程第四章
- [x]  设计模式-单例
- [ ]  15个单词
## 明日计划  
------
- [ ]  
## 随写 
------

单例类中对象的唯一性的作用范围是进程内的，在进程间是不唯一的





```java
LongAdder，LongAccumulator 
一句话：线程过多，争夺同一个资源时，会将资源拆成一个数组，每个线程操作时会被随机分配到其中一个数组，
获取值时，将所有数组的值加起来即可，这样做法的优点就是降低了线程争抢共享资源的可能性，cas时间也会大大减小。
原理：
当线程较多，出现并发时，
内置的cells数组会被初始化，
    如果cell数组上的值如果为null,就将add的值设置上去，
	如果cell数组上的值不为nul,会进行cas操作，
    	如果设置值的时候cas成功
    		将add的值和原先的值设置到原来位置上
    	如果设置值的时候cas失败
    		如果cells数组大小小于cpu个数，则进行扩容
```



