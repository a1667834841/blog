---
title: 2021-11-15_note
date: 2022-11-13 23:10:11
permalink: /pages/63aa6f/
categories:
  - 每日随笔
  - 2021-11
tags:
  - 
---
**mood:** :smile:  									**date: 2021-11-15**  
## 今日计划  
------
- [ ]  git Action 概念 大概可以做啥
- [ ]  mybatis 缓存整理
- [ ]   
## 明日计划  
------
- [ ]  
## 随写 
------

学习目标 ：问答测试 





git Action ：Automate your workflow from idea to production 

基于事件驱动的自动化任务，在执行完事件后可以执行一系列的命令。例如，每当有人为存储库创建一个pull请求时，您就可以自动运行一个命令来执行软件测试脚本。

组件：

workflow：工作流

event：事件是触发工作流的特定活动（An event is a specific activity that triggers a workflow），比如某人提交代码，这个事件就会触发工作流

jobs：一个job是由一系列的步骤组成，而且是在同一个runner上执行的，jobs之间可以并行执行，也可以配置成串行执行

steps：每个步骤是一个独立运行命令的任务在jobs中，step可以执行shell命令或者`action`,step之间可以共享数据，而且运行在同一个runner上

actions：actions是单独的命令结合到step来创建job的，actions是工作流中最小的可移植构建块，actions可以自己创建或者去社区查找，为了使用actions，那就必须在steps中配置它

runners：执行器，默认安装好的。可以使用github的，也可以使用自己的。runner会监听每个可用的job，从而反馈进度，日志，结果。

runner环境分为四种Ubuntu Linux, Microsoft Windows, and macOS，每个job在工作流之间，都可以运行在新的虚拟环境









centos 安装git

```
yum -y install git
yum安装git被安装在/usr/libexec/git-core目录下
```



# [CentOS安装NodeJS](https://www.cnblogs.com/zhi-leaf/p/10979629.html)

1、从官网下下载最新的nodejs，https://nodejs.org/en/download/

![img](https://img2018.cnblogs.com/blog/1031555/201906/1031555-20190605144624526-656363692.png)

 **历史版本可从https://nodejs.org/dist/下载**

2、通过ftp工具上传到linux服务，解压安装包

```
tar -xvf node-v10.16.0-linux-x64.tar.xz
```

 3、移动并改名文件夹（不改名也行）

```
cd /usr/local/
mv /var/ftp/pub/node-v10.16.0-linux-64 . //后面的.表示移动到当前目录
mv node-v10.16.0.0-linux-64/ nodejs
```

![img](https://img2018.cnblogs.com/blog/1031555/201906/1031555-20190605145020151-1308326991.png)

4、让npm和node命令全局生效

　　方式一：环境变量方式（这种方式似乎只对登录用户有效？）

　　1）、加入环境变量，在 /etc/profile 文件末尾增加配置

```
vi /etc/profile
export PATH=$PATH:/usr/local/nodejs/bin
```

　　2）、执行命令使配置文件生效

```
source /etc/profile
```

　　方式二：软链接方式（推荐）

```
ln -s /usr/local/nodejs/bin/npm /usr/local/bin/
ln -s /usr/local/nodejs/bin/node /usr/local/bin/
```

5、查看nodejs是否安装成功

```
node -v
npm -v
```

![img](https://img2018.cnblogs.com/blog/1031555/201906/1031555-20190606163142195-95255678.png)

 



2021-09-18 13:39:34.770 ERROR --- [p-nio-73-exec-9] c.d.s.third.service.impl.NCServiceImpl  [182] : 待同步数据：{}[{"commodityBillId":87060,"dbilldate":"2021-09-18 13:39:34","is_direct":"N","pk_org":"YYXMG","deptid":"桐庐桂花园","customerid":"77007001","billtype":"商家订单","orderid":"YG2021090145056085027629","itemid":"YG2021090145056085027629-87060#19333","supplierid":"1001A2100000007H2A5L","materialid":"0102040405","nnum":"6","nprice":"2368.00","is_agency":"N","commission":"","yydate":"","income_account":"","pk_fatherorg":"第六分公司","sjzhf":"园区生活服务公司","ownername":"金美钗","ownertel":"","owneraddr":"","receivertel":"15888806592","receiveraddr":"浙江省杭州市桐庐县桐君街道白云源路767号绿城桂花园服务中心","receivername":"陈炉君","nredbag":"0","offset_type":"","vnote":"","payment_type":"-1","logistics_co":"","tracking_number":"","tracking_status":"","vdef4":"","vdef5":"","vdef8":"浙江绿西物业管理有限公司","vdef9":"592029673@qq.com","vdef11":"","vdef13":"91330104765497629G","vdef14":"","vdef15":"N","csendstordocid":"YGDC","vrownote":"6张蟹券，单价398，总金额2388","vbdef17":"19333"}]
2021-09-18 13:39:34.771 ERROR --- [p-nio-73-exec-9] c.d.s.third.service.impl.NCServiceImpl  [183] : NcUrl：{}http://183.134.103.226:8066/lcwy/service/PushOrder2NC
2021-09-18 13:39:35.241 ERROR --- [-nio-74-exec-23] c.d.s.third.service.impl.NCServiceImpl  [182] : 待同步数据：{}[{"commodityBillId":87060,"dbilldate":"2021-09-18 13:39:34","is_direct":"N","pk_org":"YYXMG","deptid":"桐庐桂花园","customerid":"2091059428","billtype":"商家订单","orderid":"YG2021090145056085027629","itemid":"YG2021090145056085027629-87060#19332","supplierid":"1001A2100000007H2A5L","materialid":"0102040405","nnum":"14","nprice":"5525.33","is_agency":"N","commission":"","yydate":"","income_account":"","pk_fatherorg":"第六分公司","sjzhf":"园区生活服务公司","ownername":"金美钗","ownertel":"","owneraddr":"","receivertel":"15888806592","receiveraddr":"浙江省杭州市桐庐县桐君街道白云源路767号绿城桂花园服务中心","receivername":"陈炉君","nredbag":"0","offset_type":"","vnote":"","payment_type":"-1","logistics_co":"","tracking_number":"","tracking_status":"","vdef4":"","vdef5":"","vdef8":"浙江绿西物业管理有限公司桐庐分公司","vdef9":"592029673@qq.com","vdef11":"","vdef13":"91330122MA2CE0X243","vdef14":"","vdef15":"N","csendstordocid":"YGDC","vrownote":"14张蟹券，单价398，总金额5572","vbdef17":"19332"}]
2021-09-18 13:39:35.241 ERROR --- [-nio-74-exec-23] c.d.s.third.service.impl.NCServiceImpl  [183] : NcUrl：{}http://183.134.103.226:8066/lcwy/service/PushOrder2NC
2021-09-18 13:39:35.576 ERROR --- [p-nio-73-exec-9] c.d.s.third.service.impl.NCServiceImpl  [186] : 同步结果：{"result":0,"success":[{"orderid":"YG2021090145056085027629","itemid":"YG2021090145056085027629-87060#19333","vbillcode":"SO302021091802678142"}],"fail":[]}
2021-09-18 13:39:36.102 ERROR --- [-nio-74-exec-23] c.d.s.third.service.impl.NCServiceImpl  [186] : 同步结果：{"result":0,"success":[{"orderid":"YG2021090145056085027629","itemid":"YG2021090145056085027629-87060#19332","vbillcode":"SO302021091802678143"}],"fail":[]}



2021-09-18 13:44:44.792 ERROR --- [p-nio-74-exec-5] c.d.s.third.service.impl.NCServiceImpl  [182] : 待同步数据：{}[{"commodityBillId":87060,"dbilldate":"2021-09-18 13:44:44","is_direct":"N","pk_org":"YYXMG","deptid":"桐庐桂花园","customerid":"01","billtype":"商家订单","orderid":"YG2021090145056085027629","itemid":"YG2021090145056085027629-87060","supplierid":"1001A2100000007H2A5L","materialid":"0102040405","nnum":"24","nprice":"9472.00","is_agency":"N","commission":"","yydate":"","income_account":"","pk_fatherorg":"第六分公司","sjzhf":"园区生活服务公司","ownername":"金美钗","ownertel":"","owneraddr":"","receivertel":"15888806592","receiveraddr":"浙江省杭州市桐庐县桐君街道白云源路767号绿城桂花园服务中心","receivername":"陈炉君","nredbag":"0","offset_type":"","vnote":"","payment_type":"-1","logistics_co":"","tracking_number":"","tracking_status":"","vdef4":"","vdef5":"","vdef8":"","vdef9":"","vdef11":"","vdef13":"","vdef14":"","vdef15":"N","csendstordocid":"YGDC","vrownote":"","vbdef17":""}]
2021-09-18 13:44:44.792 ERROR --- [p-nio-74-exec-5] c.d.s.third.service.impl.NCServiceImpl  [183] : NcUrl：{}http://183.134.103.226:8066/lcwy/service/PushOrder2NC
2021-09-18 13:44:45.704 ERROR --- [p-nio-74-exec-5] c.d.s.third.service.impl.NCServiceImpl  [186] : 同步结果：{"result":0,"success":[{"orderid":"YG2021090145056085027629","itemid":"YG2021090145056085027629-87060","vbillcode":"SO302021091802678323"}],"fail":[]}





于Centos7的linux系统有很多软件命令依赖于系统自带的python2，比如yum，卸载python2会造成yum不可用，所以没有必须卸载python2, 可以通过软链接的方式安装python3, 再说 现在还有不少的python的第三库没有支持python3。

输入python -V 或python --version, 查看系统自带的python的版本。

[root@zzf ~]# python -V
Python 2.7.5
[root@zzf ~]# python --version
Python 2.7.5
[root@zzf ~]# 
输入which python ，查看python安装位置，一般是位于/usr/bin/python目录下。

[root@zzf ~]# which python
/usr/bin/python

[root@zzf ~]# whereis python
python: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz
通过下面的命令可以看到yum是用到了系统默认的python2.7.5：

[root@zzf Python-3.6.2]# cat /usr/bin/yum
#!/usr/bin/python
import sys
try:
    import yum
except ImportError:
    print >> sys.stderr, """\
There was a problem importing one of the Python modules
required to run yum. The error leading to this problem was:
   %s
Please install a package which provides this module, or
verify that the module is installed correctly.
It's possible that the above module doesn't match the
current version of Python, which is:
%s
If you cannot solve this problem yourself, please go to 
the yum faq at:
  http://yum.baseurl.org/wiki/Faq

""" % (sys.exc_value, sys.version)
    sys.exit(1)

sys.path.insert(0, '/usr/share/yum-cli')
try:
    import yummain
    yummain.user_main(sys.argv[1:], exit_code=True)
except KeyboardInterrupt, e:
    print >> sys.stderr, "\n\nExiting on user cancel."
    sys.exit(1)
 建议使用python的virtualenv来配置各个不同的python环境，好处显而易见的。

下面安装python3 ，安装依赖包

yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel
然后根据需求下载Python3，我下载的是Python3.6.6

[root@zzf ~]#  wget https://www.python.org/ftp/python/3.6.6/Python-3.6.6.tar.xz

[root@zzf ~] mkdir /usr/local/python3
[root@zzf ~] mv Python-3.6.6.tar.xz /usr/local/python3
[root@zzf ~] cd /usr/local/python3
[root@zzf python3] tar -xvJf Python-3.6.6.tar.xz
[root@zzf python3] cd Python-3.6.6
[root@zzf Python-3.6.6] ./configure --prefix=/usr/local/python3
[root@zzf Python-3.6.6] make&&make install
  最后一步 创建软链接

 

[root@zzf Python-3.6.6] ln -s /usr/local/python3/bin/python3 /usr/bin/python3
[root@zzf Python-3.6.6] ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3
 输入python3 -V 或 python3 --version

[root@zzf Python-3.6.2]# python3 -V
Python 3.6.2
[root@zzf Python-3.6.2]# python3 --version
Python 3.6.2
安装成功，python2 和python3 都可用。

```



```

