---
title: 2022-07-12_note
date: 2022-11-13 23:10:12
permalink: /pages/4915a1/
categories:
  - 每日随笔
  - 2022-07
tags:
  - 
---
**mood:** :smile:  									**date: 2022-07-12**  
## 今日计划  
------
- [ ]  抓包不背单词
- [ ]  15个单词
## 明日计划  
------
- [ ]  
## 随写 
------

MT-Token-Wap=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJtdCIsImV4cCI6MTY1OTgzNzMzNiwidXNlcklkIjoxMDcwMzQxOTY5LCJkZXZpY2VJZCI6ImNsaXBzX0xCOG1GQ1ZBSTBFaUdpNGNMVXgrR25sT0xVNHNIQ1FWSVJjbFFDVWNmVTg9IiwiaWF0IjoxNjU3MjQ1MzM2fQ.jHMuuQmqJNuocLT3macfjNK5KMfFFjpQY6ClWkz5nBY; MT-Device-ID-Wap=clips_LB8mFCVAI0EiGi4cLUx+GnlOLU4sHCQVIRclQCUcfU8=; YX_SUPPORT_WEBP=1



Mozilla/5.0 (Linux; Android 12; LE2110 Build/RKQ1.211119.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/102.0.5005.125 Mobile Safari/537.36 moutaiapp/1.2.3 device-id/b90bca095c0d150babcb0f5af120fe91





StampedLock

主要api

- writeLock（写锁）

- readLock（悲观读锁）

- tryOptimisticRead（乐观读）

与`ReentrantReadWriteLock`区别

- 使用：ReadWriteLock的读锁和写锁方法没有返回值，StampedLock的写锁和悲观读有返回值，并且解锁需要这个返回值
- StampedLock的乐观读是无锁操作，允许多个线程读和写
- **StampedLock 不支持重入** ,ReentrantReadWriteLock支持重入

场景：

读多写少的场景，默认使用乐观读，如果乐观读时，发现有写操作则升级悲观读，只允许多个线程读，不允许线程写。比ReadWriteLock 效率更高



### 归并思想

![image-20220712174345834](https://img.ggball.top/img/image-20220712174345834.png?picGo)

> 归并的思想，复杂度为O(M+N),M和N分别为两个数组的长度，所以这种方法效率是比暴力法高很多，但是前提是有序，如果不有序，那么先对其进行排序，排序复杂度为排序的O（nlogn），加起来复杂度肯定还是高于O（n2），而且此种方法适用于两个数组存在重复元素的情况。
>
> 这种方法设置两个数组指针，在相等的时候同时后移，如果不相等，谁小谁++，你追我赶，遍历完任何一个数组，那么就可以结束。
> 