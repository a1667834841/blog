---
title: 2021-08-30_note
date: 2022-11-13 23:10:11
permalink: /pages/6213cf/
categories:
  - 每日随笔
  - 2021-08
tags:
  - 
---
**mood:** :smile:  																		**date: 2021-08-30**  
## 今日计划  
------
- [x]  【未付款能发货】出现未付款超时，订单关闭 (实际上选择的是【未付款不能发货】，代码没毛病)
- [x]  仓发单，NC里没自动出库，个例情况（手动推发票，代码没修改）
- [x]  发货仓审核，500问题（）
- [x]  @ConditionOnBean
## 明日计划  
------
- [ ]  
## 随写 
------

| 【未付款能发货】出现未付款超时，订单关闭 |
| ---------------------------------------- |
| 仓发单，NC里没自动出库，个例情况         |

```
@ConditionalOnBean(Bean.class)         //	当给定的在bean存在时,则实例化当前Bean
@ConditionalOnMissingBean  //	当给定的在bean不存在时,则实例化当前Bean(相当于备胎)
@ConditionalOnClass        //	当给定的类名在类路径上存在，则实例化当前Bean
@ConditionalOnMissingClass //	当给定的类名在类路径上不存在，则实例化当前Bean
```

```java
@Slf4j
@Configuration
public class Config {
//    @Bean
//    public City city() {
//        City city = new City();
//        city.setCityName("千岛湖");
//        return city;
//    }

    /**
     * 这里加了ConditionalOnBean注解，就代表如果city存在才实例化people
     */
    @Bean
    @ConditionalOnBean(name = "city")
    public People people(City city) {
        //这里如果city实体没有成功注入 这里就会报空指针
        city.setCityCode(301701);
        return new People("小小", 3, city);
    }
}
```



```java
    @Bean("win")
    public Computer getWin() {
        return new Computer("win");
    }

    @Bean("mac")
    @ConditionalOnMissingBean(Computer.class) // 当Computer对象不存在时，则会 new Computer("mac"); 注入容器
    public Computer getMac() {
        return new Computer("mac");
    }
```

