---
title: 2022-04-29_note
date: 2022-11-13 23:10:11
permalink: /pages/181520/
categories:
  - 每日随笔
  - 2022-04
tags:
  - 
---
**mood:** :smile:  									**date: 2022-04-29**  
## 今日计划  
------
- [ ]  
- [ ]  15个单词
## 明日计划  
------
- [ ]  
## 随写 
------



## 依赖反转原则

> 依赖反转原则的英文翻译是 Dependency Inversion Principle，缩写为 DIP。中文翻译有时候也叫依赖倒置原则。
>
> 为了追本溯源，我先给出这条原则最原汁原味的英文描述：
>
> High-level modules shouldn’t depend on low-level modules. Both modules should depend on abstractions. In addition, abstractions shouldn’t depend on details. Details depend on abstractions.

大概意思就是：高层模块（high-level modules）不要依赖低层模块（low-level）。高层模块和低层模块应该通过抽象（abstractions）来互相依赖。除此之外，抽象（abstractions）不要依赖具体实现细节（details），具体实现细节（details）依赖抽象（abstractions）。

#### 1. 控制反转（IOC）

这里的“控制”指的是对程序执行流程的控制，而“反转”指的是在没有使用框架之前，**程序员**自己控制整个程序的执行。在使用框架之后，整个程序的执行流程可以通过**框架**来控制。流程的控制权从程序员“反转”到了框架。

#### 2. 依赖注入（DI）

那到底什么是依赖注入呢？我们用一句话来概括就是：不通过 new() 的方式在类内部创建依赖类对象，而是将依赖的类对象在外部创建好之后，通过构造函数、函数参数等方式传递（或注入）给类使用。



#### 3. 依赖注入框架

我们通过依赖注入框架提供的扩展点，简单配置一下所有需要的类及其类与类之间依赖关系，就可以实现由框架来自动创建对象、管理对象的生命周期、依赖注入等原本需要程序员来做的事情。

#### 4. 依赖反转原则

依赖反转原则也叫作依赖倒置原则。这条原则跟控制反转有点类似，主要用来指导框架层面的设计。高层模块不依赖低层模块，它们共同依赖同一个抽象。抽象不要依赖具体实现细节，具体实现细节依赖抽象。



个人理解的依赖注入的优点

如果只是单纯的通过自己在类里面new对象，那么里面的代码就固定了，如果需求改了就需要修改内部代码

如果是依赖注入，通过外部创建好的对象，通过构造，setter方法传入依赖的对象，这样可以面向接口编程，这样如果需求改了不需要改内部代码，只需要替换传入的对象即可（前提是实现了该接口）



### 问题

> 从 Notification 这个例子来看，“基于接口而非实现编程”跟“依赖注入”，看起来非常类似，那它俩有什么区别和联系呢？

网友回答
“基于接口而非实现编程”与“依赖注入”的

联系

是二者都是从外部传入依赖对象而不是在内部去new一个出来。
区别

“基于接口而非实现编程”强调的是“接口”，强调依赖的对象是接口，而不是具体的实现类；而“依赖注入”不强调这个，类或接口都可以，只要是从外部传入不是在内部new出来都可以称为依赖注入。



## KISS 原则

KISS 原则是保持代码可读和可维护的重要手段。KISS 原则中的“简单”并不是以代码行数来考量的。代码行数越少并不代表代码越简单，我们还要考虑逻辑复杂度、实现难度、代码的可读性等。而且，本身就复杂的问题，用复杂的方法解决，并不违背 KISS 原则。除此之外，同样的代码，在某个业务场景下满足 KISS 原则，换一个应用场景可能就不满足了。

对于如何写出满足 KISS 原则的代码，我还总结了下面几条指导原则：

- 不要使用同事可能不懂的技术来实现代码；

- 不要重复造轮子，要善于使用已经有的工具类库；

- 不要过度优化。




