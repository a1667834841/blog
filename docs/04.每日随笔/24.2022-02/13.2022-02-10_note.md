---
title: 2022-02-10_note
date: 2022-11-13 23:10:11
permalink: /pages/b0c9dc/
categories:
  - 每日随笔
  - 2022-02
tags:
  - 
---
**mood:** :smile:  									**date: 2022-02-10**  

## 今日计划  
------
- [x]  mysql第二章
- [ ]  pipeline 应用整理
## 明日计划  
------
- [ ]  
## 随写 
------

启动选项与系统变量

启动选项

​	长格式与短格式

​	在执行启动脚本时，后面可以跟启动选项，其中有长格式和短格式两种形式

​	短格式：选项名前只加一个短划线 - 

​	长格式：选项名前加两个短划线 -- 

![image-20220210210832550](https://img.ggball.top/picGo/image-20220210210832550.png)

配置选项

​	内容格式

与在命令行中指定启动选项不同的是，配置文件中的启动选项被划分为若干个组，每个组有一个组名，用中括号[] 扩起来，像这样：

```
[server] 
(具体的启动选项...) 
[mysqld] 
(具体的启动选项...) 
[mysqld_safe] 
(具体的启动选项...) 
[client] 
(具体的启动选项...) 
[mysql] 
(具体的启动选项...) 
[mysqladmin] 
(具体的启动选项...)
```

​	优先级

配置文件的优先级

	如果我们在多个配置文件中设置了相同的启动选项，那以最后一个配置文件中的为准

同一个配置文件中多个组的优先级

```
将以最后一个出现的组中的启动选项为准
```

系统变量

​	概念：MySQL 服务器程序运行过程中会用到许多影响程序行为的变量，它们被称为 MySQL 系统变量

​	每个系统变量都有一个默认值，我们可以使用命令行或者配置文件中的选项在启动服务器时改变一些系统变量的值。大多数的系统变量的值也可以在程序运行过程中修改，而无需停止并重新启动它。

​	设置

通过命令行添加启动选项。比方说我们在启动服务器程序时用这个命令：

```
mysqld --default-storage-engine=MyISAM --max-connections=10
```

通过配置文件添加启动选项。我们可以这样填写配置文件：

```
 [server]
 default-storage-engine=MyISAM 
 max-connections=10
```

​	查看

我们可以使用下列命令查看 MySQL 服务器程序支持的系统变量以及它们的当前值：

```
SHOW VARIABLES [LIKE 匹配的模式];
```



# 字符集和比较规则

## 字符集简介

作用：为了让数据在人和计算机都能被”看的懂“。

> 我们知道在计算机中只能存储二进制数据，那该怎么存储字符串呢？当然是建立字符与二进制数据的映射关系了，建立这个关系最起码要搞清楚两件事儿：
> 1. 你要把哪些字符映射成二进制数据？
> 也就是界定清楚字符范围。
> 2. 怎么映射？
> 将一个字符映射成一个二进制数据的过程也叫做 编码 ，将一个二进制数据映射到一个字符的过程叫做 解码 。
> 人们抽象出一个 字符集 的概念来描述某个字符范围的编码规则。比方说我们来自定义一个名称为 xiaohaizi 的字符集，它包含的字符范围和编码规则如下：
> 包含字符 'a' 、 'b' 、 'A' 、 'B' 。
> 编码规则如下：
> 采用1个字节编码一个字符的形式，字符和字节的映射关系如下：
>  'a' -> 00000001 (十六进制：0x01) 
>  'b' -> 00000010 (十六进制：0x02) 
>  'A' -> 00000011 (十六进制：0x03) 
>  'B' -> 00000100 (十六进制：0x04)
> 有了 xiaohaizi 字符集，我们就可以用二进制形式表示一些字符串了，下边是一些字符串用 xiaohaizi 字符集编码后的二进制表示：
> 'bA' -> 0000001000000011  (十六进制：0x0203) 
> 'baB' -> 000000100000000100000100  (十六进制：0x020104) 
> 'cd' -> 无法表示，字符集xiaohaizi不包含字符'c'和'd'
>
> —— 引用《MySQL是怎么运行的》

## 比较规则简介

1. 将两个大小写不同的字符全都转为大写或者小写。
2. 再比较这两个字符对应的二进制数据。

注意：同一种字符集可以有多种比较规则



## MySQL中的utf8和utf8mb4



utf8mb3 ：阉割过的 utf8 字符集，只使用1～3个字节表示字符。

utf8mb4 ：正宗的 utf8 字符集，使用1～4个字节表示字符。



 mysql**字符集的查看**

```
SHOW (CHARACTER SET|CHARSET) [LIKE 匹配的模式];
```

**mysql比较规则的查看**

```
SHOW COLLATION [LIKE 匹配的模式];
```

注意：每种字符集对应若干种比较规则，每种字符集都有一种默认的比较规则



订单表 

加字段吧

 已售后数量 申请中的数量 



涉及 新增售后单  售后单审核成功，售后单拒绝



售后单 新增父订单号  erp编号





筛选客户/园区 可售后订单

订单商品明细判断 数量是否满足，并返回商品明细

新增售后单 添加原单订单号  移除拆单逻辑



客服审核

根据客服选择 仓库地址拆单 更新各订单退货地址



售后单推erp 更新erp编号





