---
title: 2022-02-16_note
date: 2022-11-13 23:10:11
permalink: /pages/2826e5/
categories:
  - 每日随笔
  - 2022-02
tags:
  - 
---
**mood:** :smile:  									**date: 2022-02-16**  
## 今日计划  
------
- [ ]  索引如何使用整理
- [x]  应收单重复，数据修复
- [x]  售后审核后置修改订单已售后和申请中数量
## 明日计划

------
- [ ]  
## 随写 
------

##如何运用好索引

了解索引的优势，劣势，运用好优势，使得sql执行的更有效率

既然索引可以提高查询速度，那是不是查询哪些字段就创建查询字段的索引呢？

如果随意的创建索引，会造成以下的影响

占用空间变大，因为创建索引会创建一棵B+树，每个节点都是数据页，一页占16kb,叶子结点会存着主键和索引列,表的记录越多他的页数就越多。

增删改时间耗时边长，因为数据页之间按照索引列大小排序形成双向链表，数据页内的记录按照索引列大小排序成单向链表，

节点的修改，会造成原先记录顺序也要重新修改，会更耗时间。

所以说，一个表上索引建的越多，就会占用越多的存储空间，在增删改记录的时候性能就越差。



## 索引适用的时机

全值索引：搜索的条件字段和索引列相同时，顺序不同不要紧，MySQL 有一个叫查询优化器的东东，会分析这些搜索条件并且按照可以使用的索引中列的顺序来决定先使用哪个搜索条件，后使用哪个搜索条件。

匹配左边的列：条件字段顺序只要符合索引的顺序，即使只符合左边的第一个，那也会走索引。

匹配范围值

精确匹配某一列并范围匹配另外一列

用于排序

用于分组

## 在使用索引时需要注意下边这些事项：

- 只为用于搜索、排序或分组的列创建索引
- 为列的基数大的列创建索引
- 索引列的类型尽量小
- 可以只对字符串值的前缀建立索引
- 只有索引列在比较表达式中单独出现才可以适用索引为了尽可能少的让 聚簇索引 发生页面分裂和记录移位的情况，建议让主键拥有 AUTO_INCREMENT 属性。
- 定位并删除表中的重复和冗余索引
- 尽量使用 覆盖索引 进行查询，避免 回表 带来的性能损耗。



数据目录结构



innoDB数据目录

- 表目录

  - 表名.frm文件（描述表结构的文件）

  - .表名ibd文件（表数据和索引文件）
  - 视图名.frm文件（描述视图）

- ...

mylSAM数据目录