---
title: 2022-08-04_note
date: 2022-11-13 23:10:12
permalink: /pages/1a0114/
categories:
  - 每日随笔
  - 2022-08
tags:
  - 
---
**mood:** :smile:  									**date: 2022-08-04**  
## 今日计划  
------
- [ ]  
- [ ]  15个单词
## 明日计划  
------
- [ ]  
## 随写 
------

正确的创建线程池

1. 面对无限的请求，务必创建有界队列，要不然任务会一直被接受
2. 指定线程名，方便看日志
3. 指定拒绝策略

```java
ExecutorService es = new ThreadPoolExecutor(
  50, 500,
  60L, TimeUnit.SECONDS,
  // 注意要创建有界队列
  new LinkedBlockingQueue<Runnable>(2000),
  // 建议根据业务需求实现 ThreadFactory
  r->{
    return new Thread(r, "echo-"+ r.hashCode());
  },
  // 建议根据业务需求实现 RejectedExecutionHandler
  new ThreadPoolExecutor.CallerRunsPolicy());


```

