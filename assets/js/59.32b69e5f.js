(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{523:function(t,a,s){"use strict";s.r(a);var e=s(20),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"存储器的层次结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储器的层次结构"}},[t._v("#")]),t._v(" 存储器的层次结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/zxqzhuzhu/imgs/raw/master/image-20210404220052192.png",alt:"image-20210404220052192"}})]),t._v(" "),s("h2",{attrs:{id:"多线程数据一致性硬件层的支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多线程数据一致性硬件层的支持"}},[t._v("#")]),t._v(" 多线程数据一致性硬件层的支持？")]),t._v(" "),s("ol",[s("li",[t._v("给总线加把锁")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/zxqzhuzhu/imgs/raw/master/image-20210404220213861.png",alt:"image-20210404220213861"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("通过一致性协议")]),t._v(" "),s("p",[t._v("一般是 MESI Cache一致性协议")]),t._v(" "),s("p",[t._v("缓存行:")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("比如读取一个字节的东西，CPU不会只读取一个字节，而是会携带多个字节一起缓存下来，方便下次读取\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("伪共享问题")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("位于同一缓存行的两个不同数据，被两个不同CPU锁定，产生互相影响的伪共享问题\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("乱序问题")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CPU为了提高指令执行效率，会在一条指令执行过程中（比如去内存读数据（慢100倍）），去同时执行另一条指令，前提是，两条指令没有依赖关系\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("内存屏障")]),t._v(" "),s("p",[t._v("防止指令重排的手段")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/zxqzhuzhu/imgs/raw/master/image-20210405000035100.png",alt:"image-20210405000035100"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);